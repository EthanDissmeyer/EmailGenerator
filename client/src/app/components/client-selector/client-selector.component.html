<div class="dropdown">
  <p>Client:</p>
  <div class="dropdown-toggle" (click)="toggleOpen()">
    {{ selectedClient() 
      ? (selectedClient().name || selectedClient().firstName + ' ' + selectedClient().lastName) 
      : 'Select a client' }}
  </div>

  @if (isOpen()) {
    <div class="dropdown-menu">
      <!-- search box -->
      <input
        #searchBox
        type="text"
        (input)="searchClients(searchBox.value)"
        placeholder="Type to filter clientsâ€¦"
        autocomplete="off"
        class="dropdown-search"
      />

      <!-- original client list -->
      @for (client of clients(); track client.clientId) {
        <div class="dropdown-item" (click)="selectClient(client)">
          {{ client.name || client.firstName + ' ' + client.lastName }}
        </div>
      }

      <!--if the list is empty show no results-->
      @if (clients().length === 0) {
        <div class="dropdown-item disabled">
          No results found.
        </div>
      }
    </div>
  }
</div>
